<ng-template #colGroupTemplate>
  <colgroup>
    <col [style.width]="width" [style.minWidth]="width" *ngFor="let width of nzWidthConfig">
    <col [style.width]="th.nzWidth" [style.minWidth]="th.nzWidth" *ngFor="let th of listOfNzThComponent">
  </colgroup>
</ng-template>
<ng-template #tableInnerTemplate>
  <div #tableHeaderElement
    *ngIf="nzScroll.x || nzScroll.y"
    [ngStyle]="headerBottomStyle"
    class="ant-table-header">
    <table [class.ant-table-fixed]="nzScroll.x" [style.width]="nzScroll.x">
      <ng-template [ngTemplateOutlet]="colGroupTemplate"></ng-template>
      <thead class="ant-table-thead" *ngIf="nzScroll.y">
        <ng-template [ngTemplateOutlet]="nzTheadComponent?.templateRef"></ng-template>
      </thead>
    </table>
  </div>
  <div #tableBodyElement
    class="ant-table-body"
    [style.maxHeight]="nzScroll.y"
    [style.overflow-y]="nzScroll.y ? 'scroll' : ''"
    [style.overflow-x]="nzScroll.x ? 'auto' : ''">
    <table [class.ant-table-fixed]="nzScroll.x" [style.width]="nzScroll.x">
      <ng-template [ngTemplateOutlet]="colGroupTemplate"></ng-template>
      <thead class="ant-table-thead" *ngIf="!nzScroll.y">
        <ng-template [ngTemplateOutlet]="nzTheadComponent?.templateRef"></ng-template>
      </thead>
      <ng-content></ng-content>
    </table>
  </div>
  <div class="ant-table-placeholder" *ngIf="data.length === 0 && !nzLoading">
    <nz-embed-empty [nzComponentName]="'table'" [specificContent]="nzNoResult"></nz-embed-empty>
  </div>
  <div class="ant-table-footer" *ngIf="nzFooter">
    <ng-container *nzStringTemplateOutlet="nzFooter">{{ nzFooter }}</ng-container>
  </div>
</ng-template>
<nz-spin [nzDelay]="nzLoadingDelay" [nzSpinning]="nzLoading">
  <div #tableMainElement
    class="ant-table"
    [class.ant-table-fixed-header]="nzScroll.x || nzScroll.y"
    [class.ant-table-bordered]="nzBordered"
    [class.ant-table-default]="nzSize === 'default'"
    [class.ant-table-middle]="nzSize === 'middle'"
    [class.ant-table-small]="nzSize === 'small'">
    <div class="ant-table-title" *ngIf="nzTitle">
      <ng-container *nzStringTemplateOutlet="nzTitle">{{ nzTitle }}</ng-container>
    </div>
    <div class="ant-table-content">
      <ng-container *ngIf="nzScroll.x || nzScroll.y; else tableInnerTemplate">
        <div class="ant-table-scroll">
          <ng-template [ngTemplateOutlet]="tableInnerTemplate"></ng-template>
        </div>
      </ng-container>
    </div>
  </div>
  <nz-pagination *ngIf="nzShowPagination && data.length"
    [nzInTable]="true"
    [nzShowSizeChanger]="nzShowSizeChanger"
    [nzPageSizeOptions]="nzPageSizeOptions"
    [nzShowQuickJumper]="nzShowQuickJumper"
    [nzHideOnSinglePage]="nzHideOnSinglePage"
    [nzShowTotal]="nzShowTotal"
    [nzSize]="(nzSize === 'middle' || nzSize=='small') ? 'small' : ''"
    [nzPageSize]="nzPageSize"
    [nzTotal]="nzTotal"
    [nzSimple]="nzSimple"
    [nzPageIndex]="nzPageIndex"
    (nzPageSizeChange)="emitPageSize($event)"
    (nzPageIndexChange)="emitPageIndex($event)">
  </nz-pagination>
</nz-spin>
