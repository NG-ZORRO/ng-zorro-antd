<div cdkOverlayOrigin
  tabindex="0"
  class="ant-select-selection"
  [class.ant-select-selection--single]="nzSelectService.isSingleMode"
  [class.ant-select-selection--multiple]="nzSelectService.isMultipleOrTags"
  (keydown)="onKeyDown($event)">
  <div nz-select-top-control
    [nzOpen]="nzOpen"
    [nzPlaceHolder]="nzPlaceHolder"
    [nzShowSearch]="nzShowSearch"
    [nzDisabled]="nzDisabled">
  </div>
  <span *ngIf="nzAllowClear" class="ant-select-selection__clear" nz-select-unselectable (click)="onClearSelection($event)">
    <i nz-icon type="close-circle" theme="fill" class="ant-select-close-icon"></i>
  </span>
  <span class="ant-select-arrow" nz-select-unselectable>
    <i nz-icon type="down" class="ant-select-arrow-icon"></i>
    <b></b>
  </span>
</div>
<ng-template
  cdkConnectedOverlay
  [cdkConnectedOverlayHasBackdrop]="true"
  [cdkConnectedOverlayOrigin]="cdkOverlayOrigin"
  (backdropClick)="closeDropDown()"
  (detach)="closeDropDown();"
  (positionChange)="onPositionChange($event)"
  [cdkConnectedOverlayWidth]="overlayWidth"
  [cdkConnectedOverlayMinWidth]="overlayMinWidth"
  [cdkConnectedOverlayOpen]="nzOpen">
  <div
    class="ant-select-dropdown"
    [class.ant-select-dropdown--single]="nzSelectService.isSingleMode"
    [class.ant-select-dropdown--multiple]="nzSelectService.isMultipleOrTags"
    [class.ant-select-dropdown-placement-bottomLeft]="dropDownPosition === 'bottom'"
    [class.ant-select-dropdown-placement-topLeft]="dropDownPosition === 'top'"
    [nzClassListAdd]="[nzDropdownClassName]"
    [@dropDownAnimation]="nzOpen ? dropDownPosition : 'hidden' " [ngStyle]="nzDropdownStyle">
    <div style="overflow: auto"
      nz-option-container
      (keydown)="onKeyDown($event)"
      [nzNotFoundContent]="nzNotFoundContent"
      (nzScrollToBottom)="nzScrollToBottom.emit()">
    </div>
  </div>
</ng-template>
<!--can not use ViewChild since it will match sub options in option group -->
<ng-template>
  <ng-content></ng-content>
</ng-template>